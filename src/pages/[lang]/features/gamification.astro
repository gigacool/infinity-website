---
import type { GetStaticPaths } from 'astro';
import Layout from "@/layouts/Layout.astro";
import FeaturePage from "@/components/FeaturePage.astro";
import { languages, getTranslations } from '@/i18n/utils';
import type { Language } from '@/i18n/utils';

export const prerender = true;

export const getStaticPaths = (() => {
  return languages.map((lang) => ({
    params: { lang },
  }));
}) satisfies GetStaticPaths;

const { lang } = Astro.params as { lang: Language };
const t = getTranslations(lang);

const benefits = [
  {
    icon: "bx:bxs-certification",
    title: t.features_gamification.benefit_1_title,
    description: t.features_gamification.benefit_1_desc,
  },
  {
    icon: "bx:bxs-coin-stack",
    title: t.features_gamification.benefit_2_title,
    description: t.features_gamification.benefit_2_desc,
  },
  {
    icon: "bx:bxs-dashboard",
    title: t.features_gamification.benefit_3_title,
    description: t.features_gamification.benefit_3_desc,
  },
  {
    icon: "bx:bxs-flame",
    title: t.features_gamification.benefit_4_title,
    description: t.features_gamification.benefit_4_desc,
  },
  {
    icon: "bx:bxs-star",
    title: t.features_gamification.benefit_5_title,
    description: t.features_gamification.benefit_5_desc,
  },
];

const relatedFeatures = [
  {
    title: t.features.quizzes.title,
    description: t.features.quizzes.description,
    icon: "bx:bxs-bulb",
    href: `/${lang}/features/quizzes`,
  },
  {
    title: t.features.surveys.title,
    description: t.features.surveys.description,
    icon: "bx:bxs-bar-chart-alt-2",
    href: `/${lang}/features/surveys`,
  },
  {
    title: t.features.microlearning.title,
    description: t.features.microlearning.description,
    icon: "bx:bxs-book-reader",
    href: `/${lang}/features/microlearning`,
  },
];
---

<Layout lang={lang} title={t.features_gamification.title} description={t.features_gamification.meta_description}>
  <FeaturePage
    lang={lang}
    title={t.features_gamification.title}
    description={t.features_gamification.description}
    benefits={benefits}
    relatedFeatures={relatedFeatures}
  />
</Layout>
