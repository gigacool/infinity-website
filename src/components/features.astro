---
import { Icon } from "astro-icon/components";
import { getTranslations, defaultLang } from "@/i18n/utils";
import type { Language } from "@/i18n/utils";

interface Props {
  lang?: Language;
}

const { lang = defaultLang } = Astro.props;
const t = getTranslations(lang);

const features = [
  {
    title: t.features.quizzes.title,
    description: t.features.quizzes.description,
    icon: "bx:bxs-bulb",
    href: `/${lang}/features`,
  },
  {
    title: t.features.surveys.title,
    description: t.features.surveys.description,
    icon: "bx:bxs-bar-chart-alt-2",
    href: `/${lang}/features`,
  },
  {
    title: t.features.microlearning.title,
    description: t.features.microlearning.description,
    icon: "bx:bxs-book-reader",
    href: `/${lang}/features`,
  },
  {
    title: t.features.gamification.title,
    description: t.features.gamification.description,
    icon: "bx:bxs-trophy",
    href: `/${lang}/features`,
  },
];
---

<section class="py-16 md:py-24 px-5 bg-noosia-light">
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold lg:tracking-tight text-noosia-dark">
      {t.features.section_title}
    </h2>
    <p class="text-lg mt-4 text-slate-600 max-w-2xl mx-auto">
      {t.features.section_subtitle}
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
    {
      features.map((item) => (
        <a
          href={item.href}
          class="feature-card bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow group"
        >
          <div class="bg-noosia-orange/10 rounded-full p-3 w-12 h-12 flex items-center justify-center mb-4">
            <Icon class="text-noosia-orange w-6 h-6" name={item.icon} />
          </div>
          <h3 class="font-semibold text-lg text-noosia-dark group-hover:text-noosia-orange transition-colors">
            {item.title}
          </h3>
          <p class="text-slate-500 mt-2 leading-relaxed text-sm">
            {item.description}
          </p>
        </a>
      ))
    }
  </div>
</section>

<style>
  @media (prefers-reduced-motion: no-preference) {
    .feature-card {
      animation: fade-in-up linear;
      animation-timeline: view();
      animation-range: entry 0% cover 30%;
    }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
